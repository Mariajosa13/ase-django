{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/detalle_perfill.css' %}">
{% endblock %}

{% block content %}
<div class="perfil-container">
    <h1 class="perfil-title">Mi Perfil</h1>

    <div class="perfil-row">
        <div class="perfil-header">
            <h3>Información Personal</h3>
        </div>
        <div class="card-body perfil-body">
            <p><strong>Usuario:</strong> {{ request.user }}</p>
            <p><strong>Nombre:</strong> {{ profile.nombre }}</p>
            <p><strong>Apellido:</strong> {{ profile.apellido }}</p>
            <p><strong>Correo:</strong> {{ profile.correo }}</p>

            {% if profile.segundo_apellido %}
            <p>
                <strong>Segundo Apellido:</strong> {{ profile.segundo_apellido }}
                <a href="{% url 'cliente:eliminar_campo' 'segundo_apellido' %}" 
                   class="btn perfil-btn btn-sm btn-danger"
                   onclick="return confirm('¿Estás seguro de eliminar este dato?')">
                    Eliminar
                </a>
            </p>
            {% endif %}

            {% if profile.fecha_nacimiento %}
            <p><strong>Fecha de Nacimiento:</strong> {{ profile.fecha_nacimiento }}</p>
            {% endif %}

            {% if profile.celular %}
            <p>
                <strong>Celular:</strong> {{ profile.celular }}
                <a href="{% url 'cliente:eliminar_campo' 'celular' %}" 
                   class="btn btn-sm btn-danger"
                   onclick="return confirm('¿Estás seguro de eliminar este dato?')">
                    Eliminar
                </a>
            </p>
            {% endif %}

            {% if profile.genero %}
            <p>
                <strong>Género:</strong> {{ profile.get_genero_display }}
                <a href="{% url 'cliente:eliminar_campo' 'genero' %}" 
                   class="btn perfil-btn btn-sm btn-danger"
                   onclick="return confirm('¿Estás seguro de eliminar este dato?')">
                    Eliminar
                </a>
            </p>
            {% endif %}
        </div>
        <div class="card-footer perfil-footer">
            <a href="{% url 'cliente:perfil_editar' %}" class="btn btn-primary perfil-btn-editar">Editar Perfil</a>
            <a href="{% url 'cliente:productos' %}" class="btn btn-secondary perfil-btn-volver">Volver</a>
        </div>
    </div>
</div>
{% endblock %}
